<h1 class="font-bold text-4xl mb-6">My Listings</h1>
<table class="min-w-full divide-y divide-gray-200">
  <thead class="bg-gray-50">
    <tr>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Image
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Title
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Authors
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        ISBN
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Course Number
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Edition
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Listing Type
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Price
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Actions
      </th>
    </tr>
  </thead>
  <tbody class="bg-white divide-y divide-gray-200">
    <% @listings.each do |listing| %>
      <tr>
        <td class="px-6 py-4 whitespace-nowrap">
          <% if listing.images.attached? %>
            <%= image_tag listing.images.first, alt: listing.title, class: "h-16 w-16 object-cover rounded" %>
          <% else %>
            <div class="h-16 w-16 bg-gray-100 border flex items-center justify-center text-gray-400 text-xs rounded">
              No Image
            </div>
          <% end %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= listing.title %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= listing.authors %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= listing.isbn %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= listing.course_number %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= listing.edition %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap capitalize">
          <%= listing.listing_type %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= number_to_currency(listing.price) %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap space-x-2">
          <%= link_to 'Edit', edit_my_listing_path(listing), class: "text-blue-500 hover:underline" %>
          <%= link_to 'Delete', my_listing_path(listing), method: :delete, data: { confirm: 'Are you sure?' }, class: "text-red-500 hover:underline" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
